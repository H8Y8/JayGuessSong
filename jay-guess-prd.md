# Jay Guess PRD

> **ç‰ˆæœ¬**: 1.2.0  
> **æ›´æ–°æ™‚é–“**: 2025-12-30  
> **ç‹€æ…‹**: ğŸ“ Draft

---

## ï¿½ ç›®éŒ„

1. [ç”¢å“æ¦‚è¿°](#-ç”¢å“æ¦‚è¿°)
2. [ç›®æ¨™](#-ç›®æ¨™)
3. [éç›®æ¨™](#-éç›®æ¨™-non-goals)
4. [éŠæˆ²ç©æ³•](#-éŠæˆ²ç©æ³•)
5. [è³‡æ–™æ¨¡å‹](#ï¸-è³‡æ–™æ¨¡å‹)
6. [API ç«¯é»](#-api-ç«¯é»)
7. [éŒ¯èª¤è™•ç†](#-éŒ¯èª¤è™•ç†)
8. [ç‰ˆæ¬Šèˆ‡åˆè¦](#ï¸-ç‰ˆæ¬Šèˆ‡åˆè¦)
9. [å‰ç«¯é é¢](#ï¸-å‰ç«¯é é¢)
10. [æ•ˆèƒ½èˆ‡æ“´å±•æ€§](#-æ•ˆèƒ½èˆ‡æ“´å±•æ€§)
11. [å®‰å…¨æ€§è€ƒé‡](#-å®‰å…¨æ€§è€ƒé‡)
12. [æ¸¬è©¦ç­–ç•¥](#-æ¸¬è©¦ç­–ç•¥)
13. [ç’°å¢ƒé…ç½®](#ï¸-ç’°å¢ƒé…ç½®)
14. [é‡Œç¨‹ç¢‘](#-é‡Œç¨‹ç¢‘)
15. [å°ˆæ¡ˆçµæ§‹](#-å°ˆæ¡ˆçµæ§‹)
16. [æœªä¾†æ“´å±•](#-æœªä¾†æ“´å±•)

---

## ğŸ“‹ ç”¢å“æ¦‚è¿°

| é …ç›® | èªªæ˜ |
|------|------|
| **åç¨±** | Jay Guess |
| **é¡å‹** | Web æ‡‰ç”¨ç¨‹å¼ (RWD éŸ¿æ‡‰å¼è¨­è¨ˆ) |
| **æ¨™èª** | å‘¨æ°å€«çŒœæ­Œ 20 é¡Œç«¶é€Ÿï¼Œå››é¸ä¸€ï¼Œè¶Šå¿«è¶Šé«˜åˆ†ï¼Œä¸Šæ’è¡Œæ¦œ |
| **ç›®æ¨™ç”¨æˆ¶** | å‘¨æ°å€«æ­Œè¿·ã€éŸ³æ¨‚æ„›å¥½è€…ã€ä¼‘é–’éŠæˆ²ç©å®¶ |
| **æ¨¡å¼** | åƒ…å–®äººæ¨¡å¼ |
| **å‰ç«¯æ¡†æ¶** | Next.js 14 (App Router) |
| **æ¨£å¼æ¡†æ¶** | TailwindCSS |
| **èªè¨€** | TypeScript |
| **è³‡æ–™åº«** | Supabase (PostgreSQL + Auth + Storage) |
| **éŸ³æ¨‚ä¾†æº** | YouTube IFrame Player API (åƒ…å…§åµŒæ’­æ”¾) |
| **éƒ¨ç½²å¹³å°** | Vercel (å»ºè­°) |

### æŠ€è¡“æ£§å¼·åˆ¶ç´„æŸ

| è¦ç¯„ | èªªæ˜ |
|------|------|
| **RLS** | æ‰€æœ‰è³‡æ–™åº«è¡¨å¿…é ˆå•“ç”¨ Row Level Security |
| **Service Role Key** | æ°¸é ä¸è¦åœ¨å®¢æˆ¶ç«¯æš´éœ² `SUPABASE_SERVICE_ROLE_KEY` |
| **Server Client** | æœå‹™å™¨ç«¯æ“ä½œä½¿ç”¨ `createServerClient` |
| **Browser Client** | å®¢æˆ¶ç«¯ä½¿ç”¨ `createBrowserClient` |
| **Supabase é…ç½®** | å®¢æˆ¶ç«¯é…ç½®æ”¾åœ¨ `src/lib/supabase/` |

### æ”¯æ´è£ç½®èˆ‡ç€è¦½å™¨

| å¹³å° | æœ€ä½ç‰ˆæœ¬ |
|------|----------|
| Chrome | 90+ |
| Safari | 14+ |
| Firefox | 88+ |
| Edge | 90+ |
| iOS Safari | 14+ |
| Android Chrome | 90+ |

---

## ğŸ¯ ç›®æ¨™

### ä¸»è¦ç›®æ¨™
- âœ… 10 ç§’å…§é–‹å§‹éŠæˆ²ä¸¦æˆåŠŸæ’­æ”¾ç¬¬ä¸€é¡Œ
- âœ… æ¯å±€ 20 é¡Œå¯åœ¨ 4â€“7 åˆ†é˜å…§å®Œæˆ
- âœ… çµæŸå¾Œå¯æäº¤æ’è¡Œæ¦œä¸¦èƒ½å¿«é€ŸæŸ¥çœ‹æ’å
- âœ… è¡Œå‹•è£ç½®èˆ‡æ¡Œé¢è£ç½®é«”é©—ä¸€è‡´

### æˆåŠŸæŒ‡æ¨™

| æŒ‡æ¨™ | ç›®æ¨™å€¼ | è¡¡é‡æ–¹å¼ |
|------|--------|----------|
| éŠæˆ²å®Œæˆç‡ | â‰¥ 70% | `finished sessions / started sessions` |
| æ’è¡Œæ¦œæäº¤ç‡ | â‰¥ 35% | `submitted / finished sessions` |
| ä¸­ä½æ•¸éŠæˆ²æ™‚é•· | 360 ç§’ | `median(finished_at - started_at)` |
| é¦–æ¬¡äº’å‹•æ™‚é–“ (FCP) | < 1.5s | Lighthouse æ¸¬é‡ |
| é é¢è¼‰å…¥æ™‚é–“ (LCP) | < 2.5s | Lighthouse æ¸¬é‡ |

---

## ğŸš« éç›®æ¨™ (Non-Goals)

| åŠŸèƒ½ | åŸå›  |
|------|------|
| âŒ ä»Šæ—¥ä¸€é¡Œæ¨¡å¼ | MVP å°ˆæ³¨å–®ä¸€æ¨¡å¼ |
| âŒ å¤šäººæˆ¿/å³æ™‚å°æˆ° | éœ€è¦ WebSocketï¼Œè¤‡é›œåº¦é«˜ |
| âŒ å¸³è™Ÿç³»çµ± | é™ä½é€²å…¥é–€æª» |
| âŒ è¼¸å…¥æ­Œå | å››é¸ä¸€æ›´ç›´è¦ºï¼Œé™ä½æŒ«æŠ˜æ„Ÿ |
| âŒ éŸ³æª”ä¸‹è¼‰/è‡ªè¨—ç®¡ | ç‰ˆæ¬Šé¢¨éšªï¼Œç¶­è­·æˆæœ¬é«˜ |
| âŒ å¤šèªè¨€æ”¯æ´ | MVP åƒ…æ”¯æ´ç¹é«”ä¸­æ–‡ |

---

## ğŸ® éŠæˆ²ç©æ³•

### æ¨¡å¼è¨­å®š

| è¨­å®šé …ç›® | å€¼ | å¯é…ç½® |
|----------|-----|--------|
| æ¨¡å¼åç¨± | 20-song sprint | âŒ |
| é¡Œç›®æ•¸é‡ | 20 é¡Œ | âœ… (env) |
| ç­”é¡Œæ–¹å¼ | å››é¸ä¸€ | âŒ |
| ç­”é¡Œæ©Ÿæœƒ | åƒ…ä¸€æ¬¡ | âŒ |
| æ¯é¡Œæ™‚é™ | 15 ç§’ | âœ… (env) |
| èµ·å§‹åç§» | 0 ç§’ | âŒ |
| é¡Œç›®é–“éš” | 2 ç§’ | âœ… (env) |

> âš ï¸ **è‡ªå‹•æ’­æ”¾é™åˆ¶**: è¡Œå‹•è£ç½®éœ€ä½¿ç”¨è€…äº’å‹•æ‰èƒ½æ’­æ”¾ YouTube å…§åµŒ

### è¨ˆåˆ†ç³»çµ±

åˆ†æ•¸ç”± **ä¼ºæœå™¨ç«¯è¨ˆç®—**ï¼Œåƒæ•¸å¦‚ä¸‹ï¼š

| åƒæ•¸ | å€¼ | èªªæ˜ | å¯é…ç½® |
|------|-----|------|--------|
| Smax | 100 | æœ€é«˜åˆ†æ•¸ | âœ… |
| T | 15 ç§’ | æ™‚é–“é™åˆ¶ | âœ… |
| p | 1.7 | è¡°æ¸›æŒ‡æ•¸ | âœ… |
| grace_ms | 500 | ç¶²è·¯å»¶é²å®¹éŒ¯ | âœ… |

**å…¬å¼**:
```
score = round(Smax Ã— (1 - t/T)^p)
```
- `t` = ç­”é¡Œæ™‚é–“ (0 â‰¤ t â‰¤ T)
- ç­”éŒ¯æˆ–è¶…æ™‚ â†’ 0 åˆ†

**è¨ˆåˆ†ç¯„ä¾‹**:

| ç­”é¡Œæ™‚é–“ | å¾—åˆ† |
|----------|------|
| 0 ç§’ | 100 åˆ† |
| 3 ç§’ | 72 åˆ† |
| 7 ç§’ | 38 åˆ† |
| 12 ç§’ | 10 åˆ† |
| 15 ç§’ | 0 åˆ† |
| è¶…æ™‚/ç­”éŒ¯ | 0 åˆ† |

### é¸é …ç”Ÿæˆè¦å‰‡

ç‚ºç¢ºä¿å…¬å¹³æ€§èˆ‡éŠæˆ²é«”é©—ï¼š

1. **æ­£ç¢ºç­”æ¡ˆ**: å¿…å®šæ˜¯å››é¸é …ä¹‹ä¸€
2. **å¹²æ“¾é¸é …**: å¾é¡Œåº«éš¨æ©Ÿé¸å– 3 é¦–ä¸åŒæ­Œæ›²
3. **å»é‡è¦å‰‡**: åŒä¸€å±€éŠæˆ²ä¸­ï¼Œå¹²æ“¾é¸é …ä¸é‡è¤‡å‡ºç¾è¶…é 2 æ¬¡
4. **é¸é …é †åº**: æ¯é¡Œéš¨æ©Ÿæ‰“äº‚é †åº
5. **ç›¸ä¼¼åº¦è€ƒé‡**: (æœªä¾†) å¯æ’é™¤åŒå°ˆè¼¯æ­Œæ›²ä½œç‚ºå¹²æ“¾é …

### æ’è¡Œæ¦œæ’åºè¦å‰‡ (Tie-breakers)

1. `total_score` é™åº (åˆ†æ•¸è¶Šé«˜è¶Šå‰)
2. `total_time_ms` å‡åº (ç”¨æ™‚è¶ŠçŸ­è¶Šå‰)
3. `created_at` é™åº (è¶Šæ–°è¶Šå‰)

### éŠæˆ²æµç¨‹

```mermaid
graph TD
    A[Home é¦–é ] -->|è¼¸å…¥æš±ç¨±/é–‹å§‹| B[Play éŠæˆ²]
    B -->|è¼‰å…¥ç¬¬1é¡Œ| C{æ’­æ”¾éŸ³æ¨‚}
    C -->|é¸æ“‡ç­”æ¡ˆ| D[é¡¯ç¤ºçµæœ]
    D -->|é‚„æœ‰é¡Œç›®| C
    D -->|20é¡Œå®Œæˆ| E[Finish çµç®—]
    E -->|æäº¤æ’è¡Œæ¦œ| F[Leaderboard æ’è¡Œæ¦œ]
    E -->|å†ç©ä¸€æ¬¡| A
    F -->|å†ç©ä¸€æ¬¡| A
```

### è©³ç´°ç‹€æ…‹æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Home                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ è¼¸å…¥æš±ç¨±    â”‚ â†’ â”‚ é»æ“Šé–‹å§‹    â”‚ â†’ â”‚ API: start  â”‚                  â”‚
â”‚  â”‚ (max 12å­—)  â”‚   â”‚             â”‚   â”‚             â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Play Loop (é‡è¤‡ 20 æ¬¡)                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ loading â”‚ â†’ â”‚ playing â”‚ â†’ â”‚ answeredâ”‚ â†’ â”‚ reveal  â”‚ â†’ â”‚ next    â”‚ â”‚
â”‚  â”‚ è¼‰å…¥ä¸­  â”‚   â”‚ æ’­æ”¾ä¸­  â”‚   â”‚ å·²é¸æ“‡  â”‚   â”‚ é¡¯ç¤ºçµæœâ”‚   â”‚ ä¸‹ä¸€é¡Œ  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚        â†‘                                                      â”‚       â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Finish                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ é¡¯ç¤ºç¸½çµ    â”‚ â†’ â”‚ æäº¤æ’è¡Œæ¦œ  â”‚ â†’ â”‚ æŸ¥çœ‹æ’å    â”‚                  â”‚
â”‚  â”‚ åˆ†æ•¸/æ­£ç¢ºç‡ â”‚   â”‚ API: finish â”‚   â”‚ ä½ çš„æ’å:#N â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UI ç‹€æ…‹æ©Ÿ

| ç‹€æ…‹ | èªªæ˜ | å¯åŸ·è¡Œå‹•ä½œ |
|------|------|------------|
| `loading` | è¼‰å…¥ä¸­ | ç„¡ |
| `ready_to_play` | æº–å‚™é–‹å§‹ | é»æ“Šé–‹å§‹æ’­æ”¾ |
| `playing` | æ’­æ”¾ä¸­/ç­”é¡Œä¸­ | é¸æ“‡ç­”æ¡ˆ |
| `answered_reveal` | å·²ä½œç­”ï¼Œé¡¯ç¤ºçµæœ | ç„¡ (ç­‰å¾… 2 ç§’) |
| `transition_next` | éæ¸¡è‡³ä¸‹ä¸€é¡Œ | ç„¡ |
| `timeout` | è¶…æ™‚æœªä½œç­” | ç„¡ (è‡ªå‹•é€²å…¥ä¸‹ä¸€é¡Œ) |
| `finished` | éŠæˆ²çµæŸ | æäº¤æ’è¡Œæ¦œ/å†ç©ä¸€æ¬¡ |
| `error` | ç™¼ç”ŸéŒ¯èª¤ | é‡è©¦/è¿”å›é¦–é  |

---

## ğŸ—ƒï¸ è³‡æ–™æ¨¡å‹

### ER Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   songs     â”‚       â”‚  game_sessions  â”‚       â”‚  game_answers   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)     â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ questions.song_idâ”‚      â”‚ id (PK)         â”‚
â”‚ title_zh    â”‚       â”‚ id (PK)         â”‚â—„â”€â”€â”€â”€â”€â”€â”‚ session_id (FK) â”‚
â”‚ youtube_id  â”‚       â”‚ nickname        â”‚       â”‚ question_index  â”‚
â”‚ start_sec   â”‚       â”‚ status          â”‚       â”‚ chosen_index    â”‚
â”‚ is_active   â”‚       â”‚ questions (JSON)â”‚       â”‚ is_correct      â”‚
â”‚ created_at  â”‚       â”‚ total_score     â”‚       â”‚ answer_time_ms  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚ ...             â”‚       â”‚ score           â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ 1:1
                               â–¼
                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                      â”‚ leaderboard_entries â”‚
                      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                      â”‚ id (PK)             â”‚
                      â”‚ session_id (FK, UQ) â”‚
                      â”‚ nickname            â”‚
                      â”‚ total_score         â”‚
                      â”‚ correct_count       â”‚
                      â”‚ total_time_ms       â”‚
                      â”‚ created_at          â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Supabase è³‡æ–™è¡¨

#### 1. `songs` - é¡Œåº«

> å„²å­˜æ­Œæ›² metadataï¼Œä¸å­˜éŸ³æª”

| æ¬„ä½ | é¡å‹ | ç´„æŸ | èªªæ˜ |
|------|------|------|------|
| `id` | uuid | ğŸ”‘ PK, default: `gen_random_uuid()` | ä¸»éµ |
| `title_zh` | text | NOT NULL | æ­Œæ›²ä¸­æ–‡åç¨± |
| `album` | text | nullable | å°ˆè¼¯åç¨± |
| `year` | int | nullable | ç™¼è¡Œå¹´ä»½ |
| `youtube_video_id` | text | UNIQUE, NOT NULL | YouTube å½±ç‰‡ ID |
| `start_sec` | int | default: 0 | èµ·å§‹ç§’æ•¸ |
| `duration_sec` | int | nullable | æ’­æ”¾æ™‚é•· (é è¨­æ’­æ”¾åˆ°ç­”é¡ŒçµæŸ) |
| `difficulty` | int | default: 1, check: 1-3 | é›£åº¦ç­‰ç´š (1=æ˜“, 2=ä¸­, 3=é›£) |
| `is_active` | boolean | default: true | æ˜¯å¦å•Ÿç”¨ |
| `created_at` | timestamptz | default: now() | å»ºç«‹æ™‚é–“ |
| `updated_at` | timestamptz | default: now() | æ›´æ–°æ™‚é–“ |

**ç´¢å¼•**:
- `idx_songs_active` ON `is_active` WHERE `is_active = true`
- `idx_songs_youtube` ON `youtube_video_id`

#### 2. `game_sessions` - éŠæˆ²å±€æ•¸

> æ¯å±€é¡Œåºèˆ‡é¸é …å›ºå®šåŒ–ï¼ˆé˜²ä½œå¼Šæ ¸å¿ƒï¼‰

| æ¬„ä½ | é¡å‹ | ç´„æŸ | èªªæ˜ |
|------|------|------|------|
| `id` | uuid | ğŸ”‘ PK | ä¸»éµ |
| `nickname` | text | nullable, max 12 chars | ç©å®¶æš±ç¨± |
| `status` | text | NOT NULL, check in ('active','finished','expired') | ç‹€æ…‹ |
| `max_questions` | int | default: 20 | æœ€å¤§é¡Œæ•¸ |
| `time_limit_sec` | int | default: 15 | æ¯é¡Œæ™‚é™ |
| `seed` | text | NOT NULL | éš¨æ©Ÿç¨®å­ (ç”¨æ–¼é‡ç¾) |
| `questions` | jsonb | NOT NULL | é¡Œç›®è³‡æ–™ |
| `current_index` | int | default: 0 | ç•¶å‰é¡Œç›®ç´¢å¼• |
| `started_at` | timestamptz | NOT NULL | é–‹å§‹æ™‚é–“ |
| `expires_at` | timestamptz | NOT NULL | éæœŸæ™‚é–“ |
| `finished_at` | timestamptz | nullable | çµæŸæ™‚é–“ |
| `total_score` | int | default: 0 | ç¸½åˆ† |
| `correct_count` | int | default: 0 | æ­£ç¢ºé¡Œæ•¸ |
| `total_time_ms` | int | default: 0 | ç¸½ç­”é¡Œæ™‚é–“ |
| `submit_token` | text | NOT NULL | æäº¤ Token (é˜²é‡è¤‡æäº¤) |
| `client_ip` | text | nullable | å®¢æˆ¶ç«¯ IP (é˜²ä½œå¼Šè¿½è¹¤) |
| `user_agent` | text | nullable | User Agent |
| `created_at` | timestamptz | default: now() | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•**:
- `idx_sessions_status` ON `status`
- `idx_sessions_expires` ON `expires_at` WHERE `status = 'active'`

**`questions` JSONB æ ¼å¼**:
```json
[
  {
    "q": 0,
    "song_id": "uuid",
    "options": ["uuid", "uuid", "uuid", "uuid"],
    "correct_index": 2
  }
]
```

#### 3. `game_answers` - ä½œç­”ç´€éŒ„

> é€é¡Œä½œç­”ç´€éŒ„ï¼ˆé©—è­‰ã€é™¤éŒ¯ã€å¯é¸å›æ”¾ï¼‰

| æ¬„ä½ | é¡å‹ | ç´„æŸ | èªªæ˜ |
|------|------|------|------|
| `id` | uuid | ğŸ”‘ PK | ä¸»éµ |
| `session_id` | uuid | ğŸ”— FK â†’ `game_sessions.id` ON DELETE CASCADE | å¤–éµ |
| `question_index` | int | NOT NULL | é¡Œç›®ç´¢å¼• |
| `chosen_index` | int | NOT NULL, check: 0-3 or -1 (timeout) | é¸æ“‡çš„é¸é … |
| `is_correct` | boolean | NOT NULL | æ˜¯å¦æ­£ç¢º |
| `answer_time_ms` | int | NOT NULL | ç­”é¡Œæ™‚é–“ (æ¯«ç§’) |
| `score` | int | NOT NULL | è©²é¡Œå¾—åˆ† |
| `answered_at` | timestamptz | default: now() | ä½œç­”æ™‚é–“ |

**ç´„æŸ**:
- `unique(session_id, question_index)`

**ç´¢å¼•**:
- `idx_answers_session` ON `session_id`

#### 4. `leaderboard_entries` - æ’è¡Œæ¦œ

> æ’è¡Œæ¦œæ‘˜è¦ï¼ˆæŸ¥è©¢å¿«é€Ÿï¼‰

| æ¬„ä½ | é¡å‹ | ç´„æŸ | èªªæ˜ |
|------|------|------|------|
| `id` | uuid | ğŸ”‘ PK | ä¸»éµ |
| `session_id` | uuid | ğŸ”— FK UNIQUE â†’ `game_sessions.id` | å¤–éµ (ä¸€å±€åªèƒ½æäº¤ä¸€æ¬¡) |
| `nickname` | text | NOT NULL, default: 'åŒ¿åç©å®¶' | ç©å®¶æš±ç¨± |
| `total_score` | int | NOT NULL | ç¸½åˆ† |
| `correct_count` | int | NOT NULL | æ­£ç¢ºé¡Œæ•¸ |
| `total_time_ms` | int | NOT NULL | ç¸½ç­”é¡Œæ™‚é–“ |
| `created_at` | timestamptz | default: now() | å»ºç«‹æ™‚é–“ |

**ç´¢å¼•**:
- `idx_leaderboard_rank` ON `total_score DESC, total_time_ms ASC, created_at DESC`
- `idx_leaderboard_session` ON `session_id`

### RLS (Row Level Security) ç­–ç•¥

```sql
-- songs: å…¬é–‹è®€å– (å‰ç«¯éœ€è¦é¡¯ç¤ºæ­Œå)
ALTER TABLE songs ENABLE ROW LEVEL SECURITY;
CREATE POLICY "songs_select" ON songs FOR SELECT USING (true);

-- game_sessions: åƒ… service role å¯å­˜å–
ALTER TABLE game_sessions ENABLE ROW LEVEL SECURITY;
-- ç„¡å…¬é–‹ policyï¼Œåƒ… server ç«¯å¯æ“ä½œ

-- game_answers: åƒ… service role å¯å­˜å–  
ALTER TABLE game_answers ENABLE ROW LEVEL SECURITY;
-- ç„¡å…¬é–‹ policyï¼Œåƒ… server ç«¯å¯æ“ä½œ

-- leaderboard_entries: å…¬é–‹è®€å–
ALTER TABLE leaderboard_entries ENABLE ROW LEVEL SECURITY;
CREATE POLICY "leaderboard_select" ON leaderboard_entries FOR SELECT USING (true);
```

**è¨­è¨ˆåŸå‰‡**:
- å‰ç«¯åªè®€ `songs` (æ­Œå) å’Œ `leaderboard_entries`
- é–‹å±€/ç­”é¡Œ/çµç®—ä¸€å¾‹èµ° Next.js API (Server ä½¿ç”¨ service role)
- é¿å…å‰ç«¯ç›´å¯«åˆ†æ•¸èˆ‡ sessionï¼Œé™ä½åˆ·æ¦œé¢¨éšª

---

## ğŸ”Œ API ç«¯é»

**Base URL**: `/api`

### é€šç”¨å›æ‡‰æ ¼å¼

**æˆåŠŸ**:
```json
{
  "success": true,
  "data": { ... }
}
```

**å¤±æ•—**:
```json
{
  "success": false,
  "error": {
    "code": "ERROR_CODE",
    "message": "äººé¡å¯è®€çš„éŒ¯èª¤è¨Šæ¯"
  }
}
```

---

### POST `/game/start`

é–‹å§‹æ–°éŠæˆ²

**Request**:
```json
{
  "nickname": "string | null"  // max 12 chars, æœƒé€²è¡Œ trim å’Œéæ¿¾
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "sessionId": "uuid",
    "submitToken": "opaque_string",
    "timeLimitSec": 15,
    "totalQuestions": 20,
    "questionIndex": 0,
    "youtube": {
      "videoId": "dQw4w9WgXcQ",
      "startSec": 0
    },
    "options": ["ä¸ƒé‡Œé¦™", "æ™´å¤©", "ç¨»é¦™", "å‘Šç™½æ°£çƒ"]
  }
}
```

**éŒ¯èª¤**:
| HTTP | Code | èªªæ˜ |
|------|------|------|
| 400 | `INVALID_NICKNAME` | æš±ç¨±æ ¼å¼éŒ¯èª¤ |
| 500 | `INSUFFICIENT_SONGS` | é¡Œåº«æ­Œæ›²ä¸è¶³ (<20) |
| 429 | `RATE_LIMITED` | è«‹æ±‚éæ–¼é »ç¹ |

---

### POST `/game/answer`

æäº¤ç­”æ¡ˆ

**Request**:
```json
{
  "sessionId": "uuid",
  "questionIndex": 0,
  "chosenIndex": 2,
  "answerTimeMs": 3500
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "isCorrect": true,
    "correctIndex": 2,
    "correctTitle": "ç¨»é¦™",
    "scoreGained": 72,
    "totalScore": 72,
    "isFinished": false,
    "progress": {
      "current": 1,
      "total": 20,
      "correctCount": 1
    },
    "next": {
      "questionIndex": 1,
      "youtube": {
        "videoId": "abc123",
        "startSec": 0
      },
      "options": ["é’èŠ±ç“·", "æ±é¢¨ç ´", "è˜­äº­åº", "ç…™èŠ±æ˜“å†·"]
    }
  }
}
```

**éŒ¯èª¤**:
| HTTP | Code | èªªæ˜ |
|------|------|------|
| 400 | `INVALID_SESSION` | Session ä¸å­˜åœ¨ |
| 400 | `SESSION_EXPIRED` | Session å·²éæœŸ |
| 400 | `SESSION_FINISHED` | Session å·²çµæŸ |
| 400 | `INVALID_QUESTION_INDEX` | é¡Œç›®ç´¢å¼•ä¸ç¬¦ |
| 400 | `INVALID_CHOICE` | é¸é …ç´¢å¼•è¶…å‡ºç¯„åœ |
| 400 | `ALREADY_ANSWERED` | è©²é¡Œå·²ä½œç­” |

---

### POST `/game/finish`

çµæŸéŠæˆ²ä¸¦æäº¤æ’è¡Œæ¦œ

**Request**:
```json
{
  "sessionId": "uuid",
  "submitToken": "opaque_string"
}
```

**Response** (200):
```json
{
  "success": true,
  "data": {
    "totalScore": 1580,
    "correctCount": 18,
    "totalQuestions": 20,
    "accuracy": 0.9,
    "totalTimeMs": 45000,
    "averageTimeMs": 2250,
    "rank": 42,
    "totalPlayers": 1000,
    "isNewHighScore": false
  }
}
```

**éŒ¯èª¤**:
| HTTP | Code | èªªæ˜ |
|------|------|------|
| 400 | `INVALID_SESSION` | Session ä¸å­˜åœ¨ |
| 400 | `INVALID_TOKEN` | Token ä¸ç¬¦ |
| 400 | `ALREADY_SUBMITTED` | å·²æäº¤éæ’è¡Œæ¦œ |
| 400 | `SESSION_NOT_FINISHED` | éŠæˆ²å°šæœªå®Œæˆ 20 é¡Œ |

---

### GET `/leaderboard`

å–å¾—æ’è¡Œæ¦œ

**Query Parameters**:
| åƒæ•¸ | é¡å‹ | é è¨­å€¼ | èªªæ˜ |
|------|------|--------|------|
| `limit` | int | 50 | æœ€å¤š 100 |
| `offset` | int | 0 | åˆ†é åç§» |

**Response** (200):
```json
{
  "success": true,
  "data": {
    "entries": [
      {
        "rank": 1,
        "nickname": "å‘¨æ°å€«æœ¬äºº",
        "totalScore": 1980,
        "correctCount": 20,
        "totalTimeMs": 25000,
        "createdAt": "2025-12-30T10:00:00Z"
      }
    ],
    "total": 1000,
    "hasMore": true
  }
}
```

---

### GET `/game/session/:id`

æŸ¥è©¢éŠæˆ²çµæœ (ç”¨æ–¼çµæœé é¢åˆ·æ–°)

**Response** (200):
```json
{
  "success": true,
  "data": {
    "status": "finished",
    "totalScore": 1580,
    "correctCount": 18,
    "totalTimeMs": 45000,
    "answers": [
      {
        "questionIndex": 0,
        "correctTitle": "ç¨»é¦™",
        "chosenTitle": "ç¨»é¦™",
        "isCorrect": true,
        "score": 85
      }
    ]
  }
}
```

---

### é©—è­‰èˆ‡é˜²ä½œå¼Šè¦å‰‡

| è¦å‰‡ | èªªæ˜ |
|------|------|
| âœ… Session ç‹€æ…‹ | å¿…é ˆ `active` ä¸”æœªéæœŸ |
| âœ… é¡Œç›®é †åº | `questionIndex` å¿…é ˆç­‰æ–¼ `current_index` |
| âœ… é¸é …ç¯„åœ | `chosenIndex` å¿…é ˆåœ¨ 0-3 |
| âœ… æ™‚é–“ç¯„åœ | `answerTimeMs` å¿…é ˆåœ¨ `0..(TÃ—1000 + 500ms)` |
| âœ… é‡è¤‡æäº¤ | åŒä¸€é¡Œä¸å¯é‡è¤‡ä½œç­” |
| âœ… æ’è¡Œæ¦œå”¯ä¸€ | æ¯å€‹ session åªèƒ½æäº¤ä¸€æ¬¡ |
| âœ… Token é©—è­‰ | `submitToken` å¿…é ˆèˆ‡ session åŒ¹é… |
| ğŸ”œ IP é€Ÿç‡é™åˆ¶ | åŒ IP æ¯åˆ†é˜æœ€å¤šé–‹å§‹ 5 å±€ |
| ğŸ”œ å¯ç–‘è¡Œç‚ºåµæ¸¬ | å…¨å° + æ¥µçŸ­æ™‚é–“ â†’ æ¨™è¨˜å¯©æ ¸ |

---

## âš ï¸ éŒ¯èª¤è™•ç†

### éŒ¯èª¤ä»£ç¢¼å°ç…§è¡¨

| Code | HTTP | ä½¿ç”¨è€…æç¤º |
|------|------|------------|
| `INVALID_NICKNAME` | 400 | æš±ç¨±æ ¼å¼ä¸æ­£ç¢ºï¼Œè«‹ä½¿ç”¨ 1-12 å€‹å­—å…ƒ |
| `INVALID_SESSION` | 400 | æ‰¾ä¸åˆ°éŠæˆ²ï¼Œè«‹é‡æ–°é–‹å§‹ |
| `SESSION_EXPIRED` | 400 | éŠæˆ²å·²é€¾æ™‚ï¼Œè«‹é‡æ–°é–‹å§‹ |
| `SESSION_FINISHED` | 400 | éŠæˆ²å·²çµæŸ |
| `INVALID_QUESTION_INDEX` | 400 | é¡Œç›®é †åºéŒ¯èª¤ï¼Œè«‹é‡æ–°æ•´ç†é é¢ |
| `INVALID_CHOICE` | 400 | ç„¡æ•ˆçš„é¸é … |
| `ALREADY_ANSWERED` | 400 | è©²é¡Œå·²ä½œç­” |
| `INVALID_TOKEN` | 400 | é©—è­‰å¤±æ•—ï¼Œè«‹é‡æ–°é–‹å§‹éŠæˆ² |
| `ALREADY_SUBMITTED` | 400 | æˆç¸¾å·²æäº¤éæ’è¡Œæ¦œ |
| `INSUFFICIENT_SONGS` | 500 | ç³»çµ±éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ |
| `RATE_LIMITED` | 429 | æ“ä½œéæ–¼é »ç¹ï¼Œè«‹ç¨å¾Œå†è©¦ |
| `INTERNAL_ERROR` | 500 | ç³»çµ±éŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦ |

### å‰ç«¯éŒ¯èª¤è™•ç†ç­–ç•¥

| æƒ…å¢ƒ | è™•ç†æ–¹å¼ |
|------|----------|
| ç¶²è·¯æ–·ç·š | é¡¯ç¤ºæç¤ºï¼Œå…è¨±é‡è©¦ |
| API å›æ‡‰æ…¢ | é¡¯ç¤º loadingï¼Œ15 ç§’å¾Œ timeout |
| Session éæœŸ | å°å‘é¦–é ï¼Œé¡¯ç¤º"éŠæˆ²å·²é€¾æ™‚" |
| YouTube è¼‰å…¥å¤±æ•— | é¡¯ç¤º"å½±ç‰‡è¼‰å…¥ä¸­..."ï¼Œ3 ç§’å¾Œé‡è©¦ï¼Œæœ€å¤š 3 æ¬¡ |
| æœªçŸ¥éŒ¯èª¤ | é¡¯ç¤ºé€šç”¨éŒ¯èª¤è¨Šæ¯ï¼Œæä¾›è¿”å›é¦–é æŒ‰éˆ• |

---

## âš–ï¸ ç‰ˆæ¬Šèˆ‡åˆè¦

### YouTube API ä½¿ç”¨è¦ç¯„

- âœ… ä½¿ç”¨ YouTube IFrame Player API å…§åµŒæ’­æ”¾
- âœ… ä¸ä¸‹è¼‰ã€ä¸å„²å­˜ã€ä¸é‡æ–°æ•£ä½ˆéŸ³æª”
- âœ… éµå®ˆ YouTube ToSï¼Œä¸ç¹éå»£å‘Šæˆ–å–æµ
- âœ… é¡¯ç¤º YouTube æ¨™èªŒ (API è¦æ±‚)
- âœ… ä¸ä¿®æ”¹æˆ–é®è“‹æ’­æ”¾å™¨æ§åˆ¶é …

### éš±ç§æ¬Š

- ä¸æ”¶é›†å€‹äººè­˜åˆ¥è³‡è¨Š (PII)
- æš±ç¨±ç‚ºé¸å¡«ï¼Œä¸åšé©—è­‰
- IP åƒ…ç”¨æ–¼é˜²ä½œå¼Šï¼Œä¸å…¬é–‹é¡¯ç¤º
- éŠæˆ²ç´€éŒ„ä¿ç•™ 90 å¤©å¾Œè‡ªå‹•æ¸…é™¤ (å»ºè­°)

---

## ğŸ–¥ï¸ å‰ç«¯é é¢

### é é¢çµæ§‹

| è·¯å¾‘ | åç¨± | SEO Title | åŠŸèƒ½ |
|------|------|-----------|------|
| `/` | Home | Jay Guess - å‘¨æ°å€«çŒœæ­ŒæŒ‘æˆ° | æš±ç¨±è¼¸å…¥ã€é–‹å§‹æŒ‰éˆ•ã€ç°¡æ˜“è¦å‰‡èªªæ˜ |
| `/play` | Play | éŠæˆ²ä¸­ - Jay Guess | YouTube æ’­æ”¾å™¨ã€è¨ˆæ™‚å™¨ã€å››é¸ä¸€ã€é€²åº¦ |
| `/result` | Result | éŠæˆ²çµæœ - Jay Guess | åˆ†æ•¸ç¸½çµã€æ­£ç¢ºç‡ã€æäº¤æ’è¡Œæ¦œæŒ‰éˆ• |
| `/leaderboard` | Leaderboard | æ’è¡Œæ¦œ - Jay Guess | Top N åˆ—è¡¨ã€è‡ªå·±çš„æ’åé«˜äº® |

### UI å…ƒä»¶æ¸…å–®

| å…ƒä»¶ | èªªæ˜ |
|------|------|
| `<YouTubePlayer />` | å°è£ YouTube IFrame API |
| `<Timer />` | å€’æ•¸è¨ˆæ™‚å™¨ (15â†’0) |
| `<OptionButton />` | é¸é …æŒ‰éˆ• (4 å€‹) |
| `<ProgressBar />` | é€²åº¦æ¢ (1/20) |
| `<ScoreDisplay />` | åˆ†æ•¸é¡¯ç¤º |
| `<Leaderboard />` | æ’è¡Œæ¦œè¡¨æ ¼ |
| `<ResultSummary />` | çµæœç¸½çµå¡ç‰‡ |
| `<LoadingSpinner />` | è¼‰å…¥å‹•ç•« |
| `<ErrorBoundary />` | éŒ¯èª¤é‚Šç•Œ |

### éŸ¿æ‡‰å¼æ–·é»

| æ–·é» | å¯¬åº¦ | ä½ˆå±€ |
|------|------|------|
| Mobile | < 640px | å–®æ¬„ï¼ŒæŒ‰éˆ•å…¨å¯¬ |
| Tablet | 640-1024px | é›™æ¬„ï¼Œæ’­æ”¾å™¨è¼ƒå¤§ |
| Desktop | > 1024px | å±…ä¸­å®¹å™¨ï¼Œæœ€å¤§å¯¬åº¦ 1200px |

### å‹•ç•«æ•ˆæœ

| å…ƒç´  | å‹•ç•« | æ™‚é•· |
|------|------|------|
| è¨ˆæ™‚å™¨ | æŠ–å‹• (å‰©é¤˜ 3 ç§’) | 0.3s |
| é¸é …æŒ‰éˆ• | hover æ”¾å¤§ | 0.15s |
| æ­£ç¢º/éŒ¯èª¤ | èƒŒæ™¯è‰²è®ŠåŒ– | 0.3s |
| åˆ†æ•¸å¢åŠ  | æ•¸å­—è·³å‹• | 0.5s |
| é é¢åˆ‡æ› | æ·¡å…¥æ·¡å‡º | 0.2s |

### å¯¦ä½œæ³¨æ„äº‹é …

1. **è¨ˆæ™‚æ–¹å¼**: ä½¿ç”¨ `Date.now()` è¨ˆç®— `answerTimeMs`ï¼Œæ¯”ä¾è³´ player `currentTime` æ›´ç©©å®š
2. **é¡Œç›®åˆ‡æ›**: ä½¿ç”¨ `loadVideoById({videoId, startSeconds: 0})` ä¸¦é‡ç½® timer
3. **æ’­æ”¾è§¸ç™¼**: æ’­æ”¾å¿…é ˆç”±ä½¿ç”¨è€…é»æ“Šè§¸ç™¼ (Start/Next) - è¡Œå‹•è£ç½®é™åˆ¶
4. **é˜²æ­¢è¿”å›**: éŠæˆ²ä¸­ç¦ç”¨ç€è¦½å™¨è¿”å›æŒ‰éˆ•ï¼Œé¿å…ä½œå¼Š
5. **é›¢é–‹æç¤º**: éŠæˆ²ä¸­é—œé–‰/é›¢é–‹é é¢æ™‚é¡¯ç¤ºç¢ºèªå°è©±æ¡†
6. **Session å­˜å„²**: ä½¿ç”¨ sessionStorage æš«å­˜éŠæˆ²ç‹€æ…‹ï¼Œé¿å…é‡æ•´éºå¤±

### ğŸ¬ YouTube æ¨™é¡Œéš±è—æ–¹æ¡ˆ (é—œéµ)

#### âš ï¸ å•é¡Œèªªæ˜

YouTube IFrame Player é è¨­æœƒåœ¨æ’­æ”¾å™¨ä¸Šé¡¯ç¤ºå½±ç‰‡æ¨™é¡Œï¼Œé€™æœƒ**ç›´æ¥æ´©éœ²ç­”æ¡ˆ**çµ¦ç©å®¶ï¼š

| æ™‚æ©Ÿ | æ¨™é¡Œå¯è¦‹æ€§ |
|------|------------|
| æ’­æ”¾å™¨è¼‰å…¥æ™‚ | âš ï¸ æœƒé¡¯ç¤ºæ¨™é¡Œ |
| Hover æ»‘é¼ æ™‚ | âš ï¸ æœƒé¡¯ç¤ºæ¨™é¡Œ |
| æš«åœ/æ’­æ”¾åˆ‡æ› | âš ï¸ æœƒé¡¯ç¤ºæ¨™é¡Œ |
| æ’­æ”¾ä¸­ï¼ˆå¹¾ç§’å¾Œï¼‰ | âœ… æ¨™é¡Œæœƒè‡ªå‹•æ¶ˆå¤± |

> **æ³¨æ„**: YouTube åœ¨ 2018 å¹´æ£„ç”¨ `showinfo` åƒæ•¸ï¼Œ2023 å¹´æ£„ç”¨ `modestbranding` åƒæ•¸ï¼Œç›®å‰**æ²’æœ‰å®˜æ–¹ API å¯éš±è—æ¨™é¡Œ**ã€‚

#### è§£æ±ºæ–¹æ¡ˆæ¯”è¼ƒ

| æ–¹æ¡ˆ | æ•ˆæœ | è¤‡é›œåº¦ | YouTube ToS | æ¨è–¦ |
|------|------|--------|-------------|------|
| A. CSS é®ç½©/è£åˆ‡ | â­â­â­ | ä½ | âš ï¸ ç°è‰²åœ°å¸¶ | âœ… |
| B. éŸ³è¨Šè¦–è¦ºåŒ– | â­â­â­â­â­ | ä¸­ | âœ… åˆè¦ | â­ æœ€æ¨è–¦ |
| C. éš±è—æ’­æ”¾å™¨ | â­â­â­â­ | ä½ | âš ï¸ ç°è‰²åœ°å¸¶ | âœ… |

---

#### æ–¹æ¡ˆ Aï¼šCSS é®ç½©æ³•

ç”¨ CSS è£åˆ‡æ‰æ’­æ”¾å™¨é ‚éƒ¨çš„æ¨™é¡Œå€åŸŸï¼š

```css
.youtube-container {
  position: relative;
  overflow: hidden;
  aspect-ratio: 16 / 9;
  border-radius: 12px;
  background: #000;
}

.youtube-container iframe {
  position: absolute;
  top: -60px;  /* è£åˆ‡æ¨™é¡Œå€åŸŸ */
  left: 0;
  width: 100%;
  height: calc(100% + 120px);  /* è£œå„Ÿè£åˆ‡ */
  pointer-events: none;  /* ç¦æ­¢é»æ“Šæ§åˆ¶é … */
}

/* æ¼¸å±¤é®ç½©ç¾åŒ–é‚Šç·£ */
.youtube-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40px;
  background: linear-gradient(to bottom, #000 0%, transparent 100%);
  z-index: 10;
  pointer-events: none;
}
```

**å„ªé»**: å¯¦ä½œç°¡å–®  
**ç¼ºé»**: åº•éƒ¨æ§åˆ¶é …ä¹Ÿæœƒè¢«è£åˆ‡ï¼Œéœ€è¦è‡ªè£½æ’­æ”¾æ§åˆ¶

---

#### æ–¹æ¡ˆ Bï¼šéŸ³è¨Šè¦–è¦ºåŒ– (â­ æ¨è–¦)

å°‡ YouTube æ’­æ”¾å™¨å®Œå…¨éš±è—ï¼Œåªç”¨æ–¼æ’­æ”¾éŸ³è¨Šï¼Œå‰ç«¯é¡¯ç¤ºè‡ªè¨‚çš„éŸ³è¨Šè¦–è¦ºåŒ–ä»‹é¢ï¼š

```tsx
// components/game/AudioPlayer.tsx
export function AudioPlayer({ isPlaying }: { isPlaying: boolean }) {
  return (
    <div className="audio-player">
      {/* éš±è—çš„ YouTube æ’­æ”¾å™¨ */}
      <div className="youtube-hidden" ariaâ€‘hidden="true">
        <YouTubeEmbed ... />
      </div>
      
      {/* è‡ªè¨‚è¦–è¦ºåŒ–ä»‹é¢ */}
      <div className="visualizer-container">
        <div className="album-art">
          <img src="/jay-silhouette.png" alt="" />
          <div className={`pulse-ring ${isPlaying ? 'animate' : ''}`} />
        </div>
        <WaveformAnimation isPlaying={isPlaying} />
        <p className="hint">ğŸµ è½éŸ³æ¨‚çŒœæ­Œå...</p>
      </div>
    </div>
  );
}
```

```css
.youtube-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  overflow: hidden;
  opacity: 0;
  pointer-events: none;
}

.visualizer-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 300px;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  border-radius: 16px;
}

.album-art {
  position: relative;
  width: 120px;
  height: 120px;
}

.pulse-ring {
  position: absolute;
  inset: -10px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
}

.pulse-ring.animate {
  animation: pulse 1.5s ease-out infinite;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}
```

**å„ªé»**: 
- æœ€ä½³ä½¿ç”¨è€…é«”é©—
- å®Œå…¨ç¬¦åˆ YouTube ToSï¼ˆæ’­æ”¾å™¨åªæ˜¯ä¸å¯è¦‹ï¼Œæ²’æœ‰ä¿®æ”¹ï¼‰
- å¯è¨­è¨ˆæ›´æœ‰éŸ³æ¨‚éŠæˆ²æ„Ÿçš„ä»‹é¢

**ç¼ºé»**: éœ€è¦é¡å¤–è¨­è¨ˆè¦–è¦ºåŒ–å‹•ç•«

---

#### æ–¹æ¡ˆ Cï¼šæ¥µç°¡éš±è—æ’­æ”¾å™¨

å°‡æ’­æ”¾å™¨ç¸®åˆ°æœ€å°ä¸¦éš±è—ï¼Œç´”ç²¹ç•¶ä½œéŸ³è¨Šæ’­æ”¾å™¨ï¼š

```tsx
<div className="game-container">
  {/* éš±è—çš„ YouTube (1x1 åƒç´ ) */}
  <iframe
    src={`https://www.youtube.com/embed/${videoId}?enablejsapi=1&controls=0`}
    style={{
      position: 'absolute',
      width: '1px',
      height: '1px',
      opacity: 0,
      pointerEvents: 'none'
    }}
  />
  
  {/* é¡¯ç¤ºç°¡å–®çš„æ’­æ”¾æç¤º */}
  <div className="now-playing">
    <span className="music-icon">ğŸµ</span>
    <span>æ­£åœ¨æ’­æ”¾ç¬¬ {currentQuestion}/20 é¡Œ</span>
  </div>
</div>
```

**å„ªé»**: æœ€ç°¡å–®çš„å¯¦ä½œ  
**ç¼ºé»**: æ²’æœ‰è¦–è¦ºå›é¥‹ï¼Œé«”é©—è¼ƒå–®èª¿

---

#### ğŸ¯ å¯¦ä½œå»ºè­°

**MVP éšæ®µ**: ä½¿ç”¨æ–¹æ¡ˆ Cï¼ˆéš±è—æ’­æ”¾å™¨ + ç°¡å–®æç¤ºæ–‡å­—ï¼‰

**æ­£å¼ç‰ˆ**: å‡ç´šåˆ°æ–¹æ¡ˆ Bï¼ˆéŸ³è¨Šè¦–è¦ºåŒ–ï¼‰ï¼Œå¯è€ƒæ…®çš„è¦–è¦ºå…ƒç´ ï¼š
- éŸ³æ³¢å‹•ç•« (CSS/Canvas)
- å‘¨æ°å€«å‰ªå½± + è„ˆå‹•æ•ˆæœ
- å°ˆè¼¯å°é¢é¦¬è³½å…‹ï¼ˆä¸é¡¯ç¤ºå®Œæ•´å°é¢é¿å…æç¤ºï¼‰
- å€’æ•¸è¨ˆæ™‚åœ“ç’°
- é »è­œåˆ†æå‹•ç•«

---

## âš¡ æ•ˆèƒ½èˆ‡æ“´å±•æ€§

### æ•ˆèƒ½ç›®æ¨™

| æŒ‡æ¨™ | ç›®æ¨™ | è¡¡é‡å·¥å…· |
|------|------|----------|
| First Contentful Paint (FCP) | < 1.5s | Lighthouse |
| Largest Contentful Paint (LCP) | < 2.5s | Lighthouse |
| Time to Interactive (TTI) | < 3.5s | Lighthouse |
| Cumulative Layout Shift (CLS) | < 0.1 | Lighthouse |
| API å›æ‡‰æ™‚é–“ (p95) | < 200ms | Monitoring |

### å„ªåŒ–ç­–ç•¥

| é …ç›® | ç­–ç•¥ |
|------|------|
| **éœæ…‹è³‡æº** | Vercel Edge CDN å¿«å– |
| **API å›æ‡‰** | Supabase Connection Pooling |
| **æ’è¡Œæ¦œæŸ¥è©¢** | å»ºç«‹è¤‡åˆç´¢å¼•ï¼Œä½¿ç”¨ limit é™åˆ¶ |
| **YouTube é è¼‰** | ä¸‹ä¸€é¡Œå½±ç‰‡æå‰ preload |
| **Bundle å¤§å°** | å‹•æ…‹ importï¼Œcode splitting |
| **åœ–ç‰‡** | Next.js Image æœ€ä½³åŒ– |

### æ“´å±•æ€§è€ƒé‡

| é ä¼°è¦æ¨¡ | ç­–ç•¥ |
|----------|------|
| DAU < 1,000 | Supabase Free tier è¶³å¤  |
| DAU 1,000-10,000 | Supabase Proï¼Œè€ƒæ…® read replica |
| DAU > 10,000 | æ’è¡Œæ¦œ Redis å¿«å–ï¼ŒAPI Edge Functions |

---

## ğŸ” å®‰å…¨æ€§è€ƒé‡

### å¨è„…èˆ‡å°ç­–

| å¨è„… | é¢¨éšª | å°ç­– |
|------|------|------|
| åˆ†æ•¸ç«„æ”¹ | é«˜ | ä¼ºæœå™¨ç«¯è¨ˆåˆ†ï¼Œå‰ç«¯åˆ†æ•¸åƒ…é¡¯ç¤ºç”¨ |
| é‡è¤‡æäº¤ | ä¸­ | submitToken ä¸€æ¬¡æ€§é©—è­‰ |
| Session çŒœæ¸¬ | ä½ | UUID v4 ä¸å¯é æ¸¬ |
| æš´åŠ›åˆ·æ¦œ | ä¸­ | IP é€Ÿç‡é™åˆ¶ (5å±€/åˆ†é˜) |
| XSS | ä¸­ | æš±ç¨±éæ¿¾ã€React è‡ªå‹•è½‰ç¾© |
| SQL Injection | ä½ | Supabase parameterized queries |
| CSRF | ä½ | API Routes ç„¡ç‹€æ…‹ |

### è¼¸å…¥é©—è­‰

| æ¬„ä½ | é©—è­‰è¦å‰‡ |
|------|----------|
| `nickname` | trim, 1-12 å­—å…ƒ, éæ¿¾ç‰¹æ®Šå­—å…ƒ |
| `sessionId` | UUID æ ¼å¼ |
| `questionIndex` | 0-19 æ•´æ•¸ |
| `chosenIndex` | 0-3 æ•´æ•¸ |
| `answerTimeMs` | 0-15500 æ•´æ•¸ |

---

## ğŸ§ª æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦

| æ¨¡çµ„ | æ¸¬è©¦é‡é» |
|------|----------|
| `scoring.ts` | è¨ˆåˆ†å…¬å¼æ­£ç¢ºæ€§ |
| `questionGenerator.ts` | é¸é …ç”Ÿæˆé‚è¼¯ã€å»é‡è¦å‰‡ |
| `validation.ts` | è¼¸å…¥é©—è­‰å‡½æ•¸ |

### æ•´åˆæ¸¬è©¦

| å ´æ™¯ | æ¸¬è©¦é …ç›® |
|------|----------|
| å®Œæ•´éŠæˆ²æµç¨‹ | start â†’ 20 answers â†’ finish |
| è¶…æ™‚è™•ç† | 15 ç§’ç„¡å›æ‡‰è‡ªå‹•è·³é¡Œ |
| ä½µç™¼æäº¤ | åŒæ™‚å¤šæ¬¡ finish åªæ¥å—ä¸€æ¬¡ |
| éŒ¯èª¤å›æ‡‰ | å„ç¨® error code æ­£ç¢ºè§¸ç™¼ |

### E2E æ¸¬è©¦

| å ´æ™¯ | å·¥å…· |
|------|------|
| æ¡Œé¢ç‰ˆéŠæˆ²æµç¨‹ | Playwright |
| è¡Œå‹•ç‰ˆéŠæˆ²æµç¨‹ | Playwright mobile viewport |
| æ’è¡Œæ¦œé¡¯ç¤º | Playwright |

### æ¸¬è©¦è¦†è“‹ç‡ç›®æ¨™

| é¡å‹ | ç›®æ¨™ |
|------|------|
| å–®å…ƒæ¸¬è©¦ | > 80% |
| æ•´åˆæ¸¬è©¦ | æ ¸å¿ƒ API 100% |
| E2E æ¸¬è©¦ | ä¸»æµç¨‹ 100% |

---

## ğŸ› ï¸ ç’°å¢ƒé…ç½®

### ç’°å¢ƒè®Šæ•¸

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...  # åƒ… server ç«¯

# Game Config
GAME_QUESTION_COUNT=20
GAME_TIME_LIMIT_SEC=15
GAME_SCORE_MAX=100
GAME_SCORE_DECAY=1.7
GAME_GRACE_MS=500

# Rate Limit
RATE_LIMIT_START_PER_MINUTE=5

# Feature Flags
FEATURE_LEADERBOARD=true
```

### é‹è¡Œå‘½ä»¤

| å‘½ä»¤ | èªªæ˜ |
|------|------|
| `npm run dev` | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ |
| `npm run build` | æ§‹å»ºç”Ÿç”¢ç‰ˆæœ¬ |
| `npm run start` | å•Ÿå‹•ç”Ÿç”¢ä¼ºæœå™¨ |
| `npm run lint` | åŸ·è¡Œ ESLint æª¢æŸ¥ |
| `npx supabase db push` | æ¨é€ migrations åˆ° Supabase |
| `npx supabase gen types typescript` | ç”Ÿæˆ TypeScript é¡å‹ |

### éƒ¨ç½²æª¢æŸ¥æ¸…å–®

- [ ] ç’°å¢ƒè®Šæ•¸å·²è¨­å®š
- [ ] Supabase migrations å·²åŸ·è¡Œ
- [ ] RLS policies å·²å•Ÿç”¨
- [ ] é¡Œåº«è‡³å°‘ 50 é¦–æ­Œ
- [ ] TailwindCSS æ­£ç¢ºç·¨è­¯
- [ ] YouTube embed åœ¨å„å¹³å°æ¸¬è©¦é€šé
- [ ] Error tracking (Sentry) å·²è¨­å®š
- [ ] Analytics (Vercel Analytics) å·²å•Ÿç”¨

---

## ğŸš€ é‡Œç¨‹ç¢‘

### M1: Playable Loop (Week 1-2)

> åŸºç¤å¯ç©å¾ªç’°

| ä»»å‹™ | ç‹€æ…‹ | å„ªå…ˆç´š |
|------|------|--------|
| songs table seeded (â‰¥50é¦–) | â¬œ | P0 |
| Home é é¢ (æš±ç¨± + é–‹å§‹) | â¬œ | P0 |
| Play é é¢ (YouTube + é¸é …) | â¬œ | P0 |
| POST `/game/start` API | â¬œ | P0 |
| POST `/game/answer` API | â¬œ | P0 |
| è¨ˆæ™‚å™¨ + è¶…æ™‚è™•ç† | â¬œ | P0 |
| è¡Œå‹•è£ç½® gesture æ’­æ”¾ | â¬œ | P0 |
| åŸºç¤éŒ¯èª¤è™•ç† | â¬œ | P1 |

---

### M2: Verified Scoring + Leaderboard (Week 3)

> é©—è­‰è¨ˆåˆ†èˆ‡æ’è¡Œæ¦œ

| ä»»å‹™ | ç‹€æ…‹ | å„ªå…ˆç´š |
|------|------|--------|
| Server-side scoring | â¬œ | P0 |
| game_answers è³‡æ–™æŒä¹…åŒ– | â¬œ | P0 |
| Result é é¢ | â¬œ | P0 |
| POST `/game/finish` API | â¬œ | P0 |
| Leaderboard é é¢ | â¬œ | P0 |
| GET `/leaderboard` API | â¬œ | P0 |
| è‡ªå·±æ’åé«˜äº® | â¬œ | P1 |
| ç¤¾ç¾¤åˆ†äº«æŒ‰éˆ• | â¬œ | P2 |

---

### M3: Polish (Week 4)

> ç´°ç¯€å„ªåŒ–

| ä»»å‹™ | ç‹€æ…‹ | å„ªå…ˆç´š |
|------|------|--------|
| Anti-repeat options rule | â¬œ | P1 |
| Latency grace handling (500ms) | â¬œ | P1 |
| Loading/transition å‹•ç•« | â¬œ | P1 |
| Rate limit (5å±€/åˆ†é˜) | â¬œ | P1 |
| Error boundary å…¨å±€è™•ç† | â¬œ | P1 |
| SEO meta tags | â¬œ | P2 |
| PWA æ”¯æ´ | â¬œ | P2 |
| Analytics åŸ‹é» | â¬œ | P2 |

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
jay-guess/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx              # Root layout
â”‚   â”‚   â”œâ”€â”€ page.tsx                # Home (/)
â”‚   â”‚   â”œâ”€â”€ play/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx            # Play (/play)
â”‚   â”‚   â”œâ”€â”€ result/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx            # Result (/result)
â”‚   â”‚   â”œâ”€â”€ leaderboard/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx            # Leaderboard (/leaderboard)
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ game/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ start/route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ answer/route.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ finish/route.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [id]/route.ts   # Session query
â”‚   â”‚   â”‚   â””â”€â”€ leaderboard/route.ts
â”‚   â”‚   â””â”€â”€ globals.css
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                     # åŸºç¤ UI (Button, Input, ...)
â”‚   â”‚   â”œâ”€â”€ game/                   # éŠæˆ²ç›¸é—œ (Timer, Options, ...)
â”‚   â”‚   â””â”€â”€ layout/                 # ä½ˆå±€ (Header, Footer, ...)
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useGameSession.ts
â”‚   â”‚   â”œâ”€â”€ useTimer.ts
â”‚   â”‚   â””â”€â”€ useYouTubePlayer.ts
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts           # createBrowserClient (å®¢æˆ¶ç«¯)
â”‚   â”‚   â”‚   â””â”€â”€ server.ts           # createServerClient (æœå‹™å™¨ç«¯)
â”‚   â”‚   â”œâ”€â”€ scoring.ts              # è¨ˆåˆ†é‚è¼¯
â”‚   â”‚   â”œâ”€â”€ questionGenerator.ts    # é¡Œç›®ç”Ÿæˆ
â”‚   â”‚   â””â”€â”€ validation.ts           # è¼¸å…¥é©—è­‰
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ database.ts             # Supabase generated types
â”‚   â”‚   â”œâ”€â”€ api.ts                  # API request/response types
â”‚   â”‚   â””â”€â”€ game.ts                 # Game state types
â”‚   â””â”€â”€ constants/
â”‚       â””â”€â”€ config.ts               # éŠæˆ²é…ç½®å¸¸æ•¸
â”œâ”€â”€ supabase/
â”‚   â”œâ”€â”€ migrations/
â”‚   â”‚   â”œâ”€â”€ 001_create_songs.sql
â”‚   â”‚   â”œâ”€â”€ 002_create_sessions.sql
â”‚   â”‚   â”œâ”€â”€ 003_create_answers.sql
â”‚   â”‚   â”œâ”€â”€ 004_create_leaderboard.sql
â”‚   â”‚   â””â”€â”€ 005_create_indexes.sql
â”‚   â””â”€â”€ seed.sql                    # é¡Œåº«ç¨®å­è³‡æ–™
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ og-image.png                # ç¤¾ç¾¤åˆ†äº«åœ–
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ e2e/
â”œâ”€â”€ .env.local.example
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts              # TailwindCSS é…ç½®
â”œâ”€â”€ postcss.config.js               # PostCSS é…ç½®
â””â”€â”€ README.md
```

---

## ğŸ”® æœªä¾†æ“´å±•

ä»¥ä¸‹åŠŸèƒ½ä¸åœ¨ MVP ç¯„åœï¼Œä½†ä¿ç•™æŠ€è¡“æ“´å±•æ€§ï¼š

| åŠŸèƒ½ | é›£åº¦ | å‚™è¨» |
|------|------|------|
| ğŸµ ä»Šæ—¥ä¸€æ›² (Daily Challenge) | ä¸­ | æ¯æ—¥ä¸€é¡Œï¼Œå…¨çƒåŒé¡Œ |
| ğŸ† é€±æ’è¡Œ/æœˆæ’è¡Œ | ä½ | å¢åŠ  `period` æ¬„ä½ |
| ğŸ‘¥ å¥½å‹æŒ‘æˆ° | é«˜ | éœ€è¦å¸³è™Ÿç³»çµ± |
| ğŸ¨ ä¸»é¡Œåˆ‡æ› (æš—é»‘æ¨¡å¼) | ä½ | CSS è®Šæ•¸ |
| ğŸŒ å¤šèªè¨€ | ä¸­ | i18n æ¶æ§‹ |
| ğŸ“Š å€‹äººçµ±è¨ˆ | ä¸­ | éœ€è¦å¸³è™Ÿç³»çµ±æˆ– localStorage |
| ğŸ¤ å…¶ä»–æ­Œæ‰‹é¡Œåº« | ä½ | å¢åŠ  `artist` æ¬„ä½ |
| ğŸ”Š é›£åº¦é¸æ“‡ | ä½ | å·²æœ‰ difficulty æ¬„ä½è¨­è¨ˆ |

---

## ğŸ“ è®Šæ›´æ—¥èªŒ

| ç‰ˆæœ¬ | æ—¥æœŸ | è®Šæ›´å…§å®¹ |
|------|------|----------|
| 1.2.0 | 2025-12-30 | æ ¹æ“šæŠ€è¡“æ£§è¦ç¯„æ›´æ–°ï¼šåŠ å…¥ TailwindCSSã€Supabase å®¢æˆ¶ç«¯å‘½åè¦ç¯„ã€é‹è¡Œå‘½ä»¤ |
| 1.1.0 | 2025-12-30 | æ–°å¢éŒ¯èª¤è™•ç†ã€å®‰å…¨æ€§ã€æ¸¬è©¦ç­–ç•¥ã€æ•ˆèƒ½æŒ‡æ¨™ã€YouTube æ¨™é¡Œéš±è—æ–¹æ¡ˆ |
| 1.0.0 | 2025-12-30 | åˆå§‹ç‰ˆæœ¬ |

---

*æœ€å¾Œæ›´æ–°: 2025-12-30 22:23*

